<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rick y Morty</title>
    
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="./creditos.css">
</head>
<body>
    <section id="app">
      <h1 class="font-rick text-center display-2  m-md-5 m-3">¡Compre sus Pepinillos Rick!</h1>
        <div class="container-lg">
            <div class="row">
                <div class="col-1"></div>
                <div class="card col-12 col-md-5 m-3 mb-5" >
                    <img class="img-fluid" src="./assets/img/pepinillos.jpg" class="card-img-top" alt="coins">
                    <div class="card-body">
                        <h5 class="card-title">10 Pepinillos Rick</h5>
                        <h6 class="card-title">$ 5000 COP</h6>
                    <button
                          type="button"
                          class="btn btn-primary"
                          data-bs-toggle="modal"
                          data-bs-target="#payment-gateway"
                          data-amount="10"
                          data-value="5000"
                          @click="getAmountOfPickles"
                          >Comprar</button>
                       
                   </div>
                </div>
               
                <div class="card col-12 col-md-5 m-3 mb-5" >
                    <img class="img-fluid" src="./assets/img/pepinillos.jpg" class="card-img-top" alt="coins">
                    <div class="card-body">
                        <h5 class="card-title">20 Pepinillos Rick</h5>
                        <h6 class="card-title">$ 7.500 COP</h6>
                        <button
                          type="button"
                          class="btn btn-primary"
                          data-bs-toggle="modal"
                          data-bs-target="#payment-gateway"
                          data-amount="20"
                          data-value="75000"
                          @click="getAmountOfPickles"
                          >Comprar</button>
                   </div>
                 
                </div>
                <div class="col-1"></div>
                
                
                <div class="card col-md-5 m-3 mb-5" >
                    <img class="img-fluid" src="./assets/img/pepinillos.jpg" class="card-img-top" alt="coins">
                    <div class="card-body">
                        <h5 class="card-title">30 Pepinillos Rick</h5>
                        <h6 class="card-title">$ 10.000 COP</h6>
                      <button
                        type="button"
                        class="btn btn-primary"
                        data-bs-toggle="modal"
                        data-bs-target="#payment-gateway"
                        data-amount="30"
                        data-value="10000"
                        @click="getAmountOfPickles"
                        >Comprar</button>
                   </div>
                </div>
                
                <div class="card col-md-5 m-3 mb-5" >
                    <img class="img-fluid" src="./assets/img/pepinillos.jpg" class="card-img-top" alt="coins">
                    <div class="card-body">
                        <h5 class="card-title">50 Pepinillos Rick</h5>
                        <h6 class="card-title">$ 15.000 COP</h6>
                     <button
                       type="button"
                       class="btn btn-primary"
                       data-bs-toggle="modal"
                       data-bs-target="#payment-gateway"
                       data-amount="50"
                       data-value="15000"
                       @click="getAmountOfPickles"
                       >Comprar</button>
                   </div>
                </div>
                <div class="col-1"></div>
                <div class="card col-md-5 m-3 mb-5" >
                    <img class="img-fluid" src="./assets/img/pepinillos.jpg" class="card-img-top" alt="coins">
                    <div class="card-body">
                        <h5 class="card-title">100 Pepinillos Rick</h5>
                        <h6 class="card-title">$ 25.000 COP</h6>
                      <button
                        type="button"
                        class="btn btn-primary"
                        data-bs-toggle="modal"
                        data-bs-target="#payment-gateway"
                        data-amount="100"
                        data-value="25000"
                        @click="getAmountOfPickles"
                        >Comprar</button>
                   </div>
                </div>
                <div class="card col-md-5 m-3 mb-5" >
                    <img class="img-fluid" src="./assets/img/pepinillos.jpg" class="card-img-top" alt="coins">
                    <div class="card-body">
                        <h5 class="card-title">200 Pepinillos Rick</h5>
                        <h6 class="card-title">$ 45.000 COP</h6>
                       <button
                         type="button"
                         class="btn btn-primary"
                         data-bs-toggle="modal"
                         data-bs-target="#payment-gateway"
                         data-amount="200"
                         data-value="45000"
                         @click="getAmountOfPickles"
                         >Comprar</button>
                   </div>
                </div>
            </div>
            
        </div>

        <!-- Código del primer modal -> el del resumen -->
        <div class="modal fade border" id="payment-gateway" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title fw-bold font-rick display-6" id="exampleModalLabel">Resumen</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body d-flex justify-content-around">
                    <div class="w-50">
                        <p class="fw-bold">Pepinillos: {{amountOfPickles}}</p>
                        <p class="fw-bold">Valor: ${{valuePickles.toLocaleString('es-ES',{style:'currency',currency:'COP',maximumFractionDigits: 0})}}</p>
                    </div>
                    <div class="w-25">
                        <img src="./assets/img/pepinillo.jpg" alt="pickle" class="w-50">
                        <img src="./assets/img/pepinillo2.jpg" alt="pickle" class="w-50">
                    </div>
                </div>
                <div class="modal-footer justify-content-start">
                  
                  <button type="button" class="btn btn-primary" data-bs-dismiss="modal" data-bs-toggle="modal" data-bs-target="#exampleModal">Continuar</button>
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                  
                </div>
              </div>
            </div>
          </div>




          <!-- <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">Segundo Modal</button> -->
          <!-- Código segundo Modal -> El de la forma de pago -->
          <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title fw-bold font-rick display-6" id="exampleModalLabel">Método de pago: </h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  <form>
                    <div class="mb-3">
                      <label for="payment-method" class="col-form-label fw-bold">Seleccione el de su preferencia:</label>
                      <select class="form-select" aria-label="Default select example" id="payment-method" v-model="paymentMethod">
                        <option selected disabled>--Modo de pago--</option>
                        <option value="card">Tarjeta de crédito/debito</option>
                        <option value="paypal">Paypal</option>
                      </select>
                    </div>
                    <div class="mb-3" v-if="paymentMethod==='paypal'">
                      <p>Para completar la transacción, te enviaremos a los servidores seguros de PayPal.
                      </p>
                      <p>
                        ⚠️ Lo sentimos, PayPal no procesa pagos en COP. Por tanto, tu compra se hará en USD.
                        <span class="fw-bold">
                            PayPal te cobrará un importe de {{(valuePickles/4820).toLocaleString('eu-EU',{style:'currency',currency:'USD',maximumFractionDigits: 2})}}.
                        </span>
                        
                      </p>
                    </div>
                    <div v-if="paymentMethod==='card'" class="mt-5">
                        <div class="mb-3">
                            <label for="cardName" class="form-label fw-bold">Nombre de la tarjeta</label>
                            <input type="text" class="form-control" id="cardName" placeholder="Nombre en la tarjeta" v-model="cardName">
                            <div  class=" text-danger fw-normal" v-if="!cardNameOk">Recuerde llenar el nombre de su tarjeta</div>
                            
                        </div>
                          <div class="mb-3">
                            <label for="cardNumber" class="form-label fw-bold">Número de tarjeta</label>
                            <input type="number" class="form-control" id="cardNumber" placeholder="0000 0000 0000 0000" v-model="cardNumber">
                            <div  class=" text-danger fw-normal" v-if="!cardOk">Recerde ingresar un numero de tarjeta válido.</div>
                          </div>
                          <div class="d-md-flex justify-content-between">
                            <div class="mb-3 w-45">
                                <label for="cvc" class="form-label fw-bold">CVC/CVV</label>
                                <input type="number" class="form-control " id="cvc" placeholder="CVC" v-model="cvcNumber">
                                <div  class=" text-danger fw-normal" v-if="!cvcOk">Recuerde que el CVC es un número positivo de 3 o 4 cifras.</div>
                              </div>
                              <div class="mb-3 w-45">
                                <label for="expiration-date" class="form-label fw-bold ">Fecha de vencimiento</label>
                                <input type="date" class="form-control " id="expiration-date" v-model="expirationDate">
                                <div  class=" text-danger fw-normal" v-if="!dateOk">La tarjeta ya expiró o no se ingresó su fecha</div>
                              </div>
                          </div>
                          
                    </div>
                  </form>
                </div>
                <div class="modal-footer justify-content-start" v-if="paymentMethod!==''">
                  <button type="button" class="btn btn-primary px-4"   @click="makePayment">Pagar</button>
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                  
                </div>
              </div>
            </div>
          </div>
          
        
    </section>




    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="./creditos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
</html>